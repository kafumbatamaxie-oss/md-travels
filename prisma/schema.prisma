generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Vehicle {
  id          String    @id @default(cuid())
  name        String
  brand       String
  category    String
  passengers  Int
  pricePerDay Float
  imageUrl    String
  status      String    @default("AVAILABLE")
  description String?
  fuelType    String?   @default("Petrol")
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  bookings    Booking[]
}

model Booking {
  id          String   @id @default(cuid())
  userId      String
  vehicleId   String
  vehicle     Vehicle  @relation(fields: [vehicleId], references: [id])
  pickupDate  DateTime
  dropoffDate DateTime
  status      String   @default("PENDING")
  totalAmount Float
  createdAt   DateTime @default(now())
}

model Inquiry {
  id        String   @id @default(cuid())
  name      String
  email     String
  phone     String
  subject   String
  message   String
  createdAt DateTime @default(now())
}

model Quote {
  id                     String   @id @default(cuid())

  firstName              String
  lastName               String
  email                  String
  phone                  String

  // üìç PICKUP LOCATION
  pickupAddress          String
  pickupLat              Float?    // OPTIONAL
  pickupLng              Float?

  // üìç DESTINATION
  destinationAddress     String?   // was "destination"
  destinationLat         Float?
  destinationLng         Float?

  pickupDate             DateTime
  dropoffDate            DateTime
  pickupTime             String
  passengers             Int

  // üöó MANUAL VEHICLE SELECTION
  vehicleCategory        String?   // OPTIONAL for old records

  // OPTIONAL SERVICE TYPE
  serviceId              String?
  service                Service? @relation(fields: [serviceId], references: [id])

  // üìä ROUTE + PRICING DATA
  distanceKm             Float?
  estimatedPrice         Float?
  pricingType            String?  // AIRPORT, DISTANCE, DAILY_PACKAGE

  additionalRequirements String?

  total Decimal? @db.Decimal(10, 2) // ‚úÖ ADD THIS

  // üìÑ GENERATED PDF STORAGE
  pdfUrl                 String?

  status                 String   @default("NEW")
  createdAt              DateTime @default(now())
}


model Service {
  id          String   @id @default(cuid())
  name        String   @unique
  description String?
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())

  quotes Quote[]
}
